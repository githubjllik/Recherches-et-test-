<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JL-Link Manager</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #7289da;
            --secondary-color: #5865f2;
            --background-dark: #1e1e2e;
            --card-dark: #2a2a3a;
            --text-light: #f0f0f0;
            --text-dim: #a0a0a0;
            --border-radius: 10px;
            --folder-color: #ffca28;
            --app-shadow: 0 8px 16px rgba(0,0,0,0.2);
            --transition-speed: 0.3s;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--background-dark);
            color: var(--text-light);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Mobile Styles */
        .mobile-view {
            display: flex;
            flex-direction: column;
            height: 100vh;
            width: 100%;
        }

        .mobile-header {
            background-color: var(--card-dark);
            padding: 12px 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
            z-index: 10;
        }

        .logo {
            font-weight: 700;
            font-size: 1.2rem;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .search-container {
            position: relative;
            flex: 1;
            margin: 0 15px;
        }

        .search-container input {
            width: 100%;
            padding: 8px 12px 8px 36px;
            border-radius: 20px;
            border: none;
            background-color: rgba(255,255,255,0.1);
            color: var(--text-light);
            font-size: 0.9rem;
        }

        .search-container i {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-dim);
        }

        .mobile-path {
            display: flex;
            overflow-x: auto;
            background-color: rgba(0,0,0,0.1);
            padding: 8px 12px;
            font-size: 0.85rem;
            white-space: nowrap;
            gap: 5px;
            align-items: center;
        }

        .path-item {
            color: var(--primary-color);
        }

        .separator {
            color: var(--text-dim);
            margin: 0 2px;
        }

        .mobile-content {
            flex: 1;
            overflow-y: auto;
            padding: 16px;
        }

        .storage-section {
            background-color: var(--card-dark);
            border-radius: var(--border-radius);
            padding: 16px;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .storage-icon {
            font-size: 2rem;
            color: var(--primary-color);
        }

        .storage-info {
            flex: 1;
            margin-left: 15px;
        }

        .storage-title {
            font-weight: 600;
            margin-bottom: 4px;
        }

        .storage-detail {
            font-size: 0.8rem;
            color: var(--text-dim);
        }

        .section-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin: 20px 0 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .grid-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 16px;
        }

        .folder-item, .app-item {
            background-color: var(--card-dark);
            border-radius: var(--border-radius);
            padding: 16px 12px;
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: transform var(--transition-speed), box-shadow var(--transition-speed);
            position: relative;
            cursor: pointer;
        }

        .folder-item:hover, .app-item:hover {
            transform: translateY(-3px);
            box-shadow: var(--app-shadow);
        }

        .folder-icon {
            font-size: 2.5rem;
            color: var(--folder-color);
            position: relative;
            margin-bottom: 10px;
        }

        .folder-app-preview {
            position: absolute;
            bottom: -5px;
            right: -10px;
            display: flex;
        }

        .preview-icon {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background-color: white;
            margin-left: -8px;
            border: 2px solid var(--card-dark);
            object-fit: cover;
        }

        .item-name {
            font-size: 0.9rem;
            text-align: center;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            width: 100%;
        }

        .app-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            margin-bottom: 10px;
            object-fit: cover;
        }

        .mobile-bottom-nav {
            display: flex;
            justify-content: space-around;
            background-color: var(--card-dark);
            padding: 12px 0;
            box-shadow: 0 -2px 8px rgba(0,0,0,0.15);
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            font-size: 0.8rem;
            opacity: 0.7;
        }

        .nav-item.active {
            color: var(--primary-color);
            opacity: 1;
        }

        .nav-icon {
            font-size: 1.3rem;
            margin-bottom: 4px;
        }

        /* Desktop Styles */
        .desktop-view {
            display: none;
            height: 100vh;
            grid-template-rows: auto 1fr auto;
            grid-template-columns: 260px 1fr;
            grid-template-areas:
                "header header"
                "sidebar content"
                "sidebar status";
        }

        .desktop-header {
            grid-area: header;
            background-color: var(--card-dark);
            padding: 10px 20px;
            display: flex;
            align-items: center;
            gap: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
            z-index: 5;
        }

        .desktop-search {
            flex: 1;
            max-width: 500px;
        }

        .action-buttons {
            display: flex;
            gap: 8px;
        }

        .action-btn {
            background-color: transparent;
            border: none;
            color: var(--text-light);
            display: flex;
            align-items: center;
            gap: 5px;
            padding: 8px 12px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color var(--transition-speed);
        }

        .action-btn:hover {
            background-color: rgba(255,255,255,0.1);
        }

        .action-btn i {
            font-size: 1.1rem;
        }

        .sidebar {
            grid-area: sidebar;
            background-color: var(--card-dark);
            padding: 20px 10px;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
        }

        .sidebar-section {
            margin-bottom: 20px;
        }

        .sidebar-title {
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 12px;
            padding: 0 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .sidebar-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 10px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color var(--transition-speed);
        }

        .sidebar-item:hover {
            background-color: rgba(255,255,255,0.1);
        }

        .sidebar-item.active {
            background-color: rgba(114, 137, 218, 0.2);
            color: var(--primary-color);
        }

        .folder-tree {
            margin-left: 15px;
        }

        .tree-item {
            display: flex;
            align-items: center;
            gap: 5px;
            padding: 6px 10px;
            font-size: 0.9rem;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color var(--transition-speed);
        }

        .tree-item:hover {
            background-color: rgba(255,255,255,0.1);
        }

        .tree-toggle {
            width: 16px;
            text-align: center;
        }

        .user-section {
            margin-top: auto;
            padding: 10px;
            background-color: rgba(0,0,0,0.2);
            border-radius: var(--border-radius);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .user-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background-color: var(--primary-color);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
        }

        .user-info {
            flex: 1;
        }

        .user-name {
            font-weight: 600;
            font-size: 0.9rem;
        }

        .user-status {
            font-size: 0.8rem;
            color: var(--text-dim);
        }

        .desktop-content {
            grid-area: content;
            padding: 20px;
            overflow-y: auto;
        }

        .desktop-path {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            background-color: var(--card-dark);
            padding: 10px 15px;
            border-radius: var(--border-radius);
        }

        .desktop-path-btn {
            background-color: transparent;
            border: none;
            color: var(--text-light);
            display: flex;
            align-items: center;
            padding: 5px 8px;
            border-radius: 5px;
            cursor: pointer;
        }

        .desktop-path-btn:hover {
            background-color: rgba(255,255,255,0.1);
        }

        .desktop-path-breadcrumb {
            display: flex;
            align-items: center;
            gap: 5px;
            flex: 1;
        }

        .alphabet-filter {
            display: flex;
            overflow-x: auto;
            background-color: var(--card-dark);
            padding: 10px;
            border-radius: var(--border-radius);
            margin-bottom: 20px;
            gap: 8px;
        }

        .letter-btn {
            background-color: transparent;
            border: none;
            color: var(--text-light);
            min-width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color var(--transition-speed);
        }

        .letter-btn:hover, .letter-btn.active {
            background-color: var(--primary-color);
        }

        .status-bar {
            grid-area: status;
            background-color: var(--card-dark);
            display: flex;
            align-items: center;
            padding: 8px 20px;
            font-size: 0.85rem;
            color: var(--text-dim);
        }

        /* Custom Context Menu */
        .context-menu {
            position: fixed;
            z-index: 100;
            background-color: var(--card-dark);
            border-radius: var(--border-radius);
            box-shadow: 0 8px 16px rgba(0,0,0,0.3);
            padding: 8px 0;
            display: none;
        }

        .context-menu-item {
            padding: 8px 16px;
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            transition: background-color var(--transition-speed);
        }

        .context-menu-item:hover {
            background-color: rgba(255,255,255,0.1);
        }

        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0,0,0,0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 50;
            opacity: 0;
            pointer-events: none;
            transition: opacity var(--transition-speed);
        }

        .modal-overlay.active {
            opacity: 1;
            pointer-events: all;
        }

        .modal {
            background-color: var(--card-dark);
            border-radius: var(--border-radius);
            max-width: 90%;
            width: 400px;
            box-shadow: 0 16px 32px rgba(0,0,0,0.3);
            transform: translateY(20px);
            transition: transform var(--transition-speed);
        }

        .modal-overlay.active .modal {
            transform: translateY(0);
        }

        .modal-header {
            padding: 16px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-title {
            font-weight: 600;
            font-size: 1.1rem;
        }

        .modal-close {
            background: none;
            border: none;
            color: var(--text-dim);
            cursor: pointer;
            font-size: 1.2rem;
        }

        .modal-body {
            padding: 16px;
        }

        .form-group {
            margin-bottom: 16px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-size: 0.9rem;
        }

        .form-input {
            width: 100%;
            padding: 10px 12px;
            border-radius: 5px;
            border: 1px solid rgba(255,255,255,0.1);
            background-color: rgba(255,255,255,0.05);
            color: var(--text-light);
        }

        .form-buttons {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            margin-top: 16px;
        }

        .btn {
            padding: 8px 16px;
            border-radius: 5px;
            border: none;
            cursor: pointer;
            font-weight: 500;
            transition: background-color var(--transition-speed);
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }

        .btn-secondary {
            background-color: rgba(255,255,255,0.1);
            color: var(--text-light);
        }

        .btn:hover {
            filter: brightness(1.1);
        }

        /* Toast notification */
        .toast-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 100;
        }

        .toast {
            background-color: var(--card-dark);
            color: var(--text-light);
            padding: 12px 16px;
            border-radius: var(--border-radius);
            margin-top: 10px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            gap: 10px;
            transform: translateX(120%);
            transition: transform 0.3s ease-out;
        }

        .toast.show {
            transform: translateX(0);
        }

        .toast-icon {
            font-size: 1.2rem;
            color: var(--primary-color);
        }

        .toast-message {
            flex: 1;
        }

        /* Selection Styles */
        .selection-mode .folder-item, 
        .selection-mode .app-item {
            position: relative;
        }

        .selection-checkbox {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 20px;
            height: 20px;
            background-color: var(--card-dark);
            border: 2px solid var(--text-dim);
            border-radius: 4px;
            display: none;
            cursor: pointer;
        }

        .selection-mode .selection-checkbox {
            display: block;
        }

        .selection-checkbox.selected {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
        }

        .selection-checkbox.selected::after {
            content: '✓';
            color: white;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .selection-toolbar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: var(--card-dark);
            padding: 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transform: translateY(100%);
            transition: transform var(--transition-speed);
            z-index: 40;
        }

        .selection-toolbar.visible {
            transform: translateY(0);
        }

        .selection-count {
            font-weight: 600;
        }

        .selection-actions {
            display: flex;
            gap: 10px;
        }

        /* Responsive adjustments */
        @media (min-width: 768px) {
            .desktop-view {
                display: grid;
            }
            
            .mobile-view {
                display: none;
            }
        }

        @media (max-width: 767px) {
            .mobile-bottom-nav {
                z-index: 20;
            }
            
            .selection-toolbar.visible ~ .mobile-bottom-nav {
                display: none;
            }
        }

        /* Animation keyframes */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .fade-in {
            animation: fadeIn 0.3s forwards;
        }

        .slide-up {
            animation: slideUp 0.3s forwards;
        }

        /* Loading indicator */
        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(255,255,255,0.1);
            border-radius: 50%;
            border-top-color: var(--primary-color);
            animation: spin 1s linear infinite;
            margin: 40px auto;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Overflow menu */
        .overflow-menu {
            position: relative;
        }

        .overflow-menu-btn {
            background: none;
            border: none;
            color: var(--text-light);
            font-size: 1.2rem;
            cursor: pointer;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }

        .overflow-menu-btn:hover {
            background-color: rgba(255,255,255,0.1);
        }

        .overflow-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background-color: var(--card-dark);
            border-radius: var(--border-radius);
            box-shadow: 0 8px 16px rgba(0,0,0,0.3);
            min-width: 180px;
            z-index: 20;
            opacity: 0;
            transform: translateY(-10px);
            pointer-events: none;
            transition: opacity var(--transition-speed), transform var(--transition-speed);
        }

        .overflow-dropdown.visible {
            opacity: 1;
            transform: translateY(0);
            pointer-events: all;
        }

        .dropdown-item {
            padding: 10px 16px;
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            transition: background-color var(--transition-speed);
        }

        .dropdown-item:hover {
            background-color: rgba(255,255,255,0.1);
        }
        
        /* Modifications pour le header desktop */
.desktop-header {
    grid-area: header;
    background-color: var(--card-dark);
    padding: 16px 20px;
    display: flex;
    flex-direction: column;
    gap: 12px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.15);
    z-index: 5;
}

.desktop-header-top {
    display: flex;
    align-items: center;
    gap: 20px;
    width: 100%;
}

.desktop-search {
    flex: 1;
    position: relative;
    max-width: none;
}

.search-container .explore-icon {
    position: absolute;
    right: 12px;
    top: 50%;
    transform: translateY(-50%);
    color: var(--text-dim);
    cursor: pointer;
    transition: color var(--transition-speed);
}

.search-container .explore-icon:hover {
    color: var(--primary-color);
}

.action-buttons {
    display: flex;
    gap: 12px;
    flex-wrap: wrap;
}

.action-btn {
    background-color: transparent;
    border: none;
    color: var(--text-light);
    display: flex;
    align-items: center;
    gap: 5px;
    padding: 8px 12px;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color var(--transition-speed);
}

.action-btn:hover {
    background-color: rgba(255,255,255,0.1);
}

    
    
    .sidebar-subsection {
    margin-top: 15px;
    padding-left: 5px;
}

.sidebar-subtitle {
    font-size: 0.85rem;
    color: var(--text-dim);
    margin: 15px 0 8px;
    padding: 0 10px;
    display: flex;
    align-items: center;
    gap: 8px;
}

.sidebar-quick-folders, 
.sidebar-quick-apps {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.sidebar-folder-item, 
.sidebar-app-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 6px 10px;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color var(--transition-speed);
}

.sidebar-folder-item:hover, 
.sidebar-app-item:hover {
    background-color: rgba(255,255,255,0.1);
}

.sidebar-folder-icon {
    position: relative;
    color: var(--folder-color);
    font-size: 1.1rem;
}

.folder-mini-preview {
    position: absolute;
    bottom: -2px;
    right: -5px;
    display: flex;
}

.mini-icon {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background-color: white;
    margin-left: -3px;
    border: 1px solid var(--card-dark);
    object-fit: cover;
}

.sidebar-folder-name, 
.sidebar-app-name {
    font-size: 0.85rem;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.sidebar-app-icon {
    width: 18px;
    height: 18px;
    border-radius: 4px;
    object-fit: cover;
}
.modern-pc-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 24px;
    height: 24px;
    position: relative;
    filter: drop-shadow(0px 2px 3px rgba(0,0,0,0.3));
    transform: perspective(100px) rotateX(10deg) rotateY(-10deg);
    transition: transform 0.3s ease;
}

.sidebar-item:hover .modern-pc-icon {
    transform: perspective(100px) rotateX(5deg) rotateY(-5deg) scale(1.1);
}

    
    
    
    /* Styles pour le header et la navigation */
.desktop-header-nav {
    display: flex;
    align-items: center;
    gap: 15px;
    width: 100%;
}

.header-actions {
    display: flex;
    gap: 10px;
}

.header-btn {
    background-color: rgba(255,255,255,0.05);
    border: none;
    color: var(--text-light);
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 12px;
    border-radius: 6px;
    cursor: pointer;
    transition: all var(--transition-speed);
}

.header-btn:hover {
    background-color: rgba(255,255,255,0.1);
    transform: translateY(-2px);
}

.explore-btn {
    background-color: rgba(88, 101, 242, 0.2);
}

.explore-btn:hover {
    background-color: rgba(88, 101, 242, 0.3);
}

.export-btn {
    background-color: rgba(114, 137, 218, 0.2);
}

.export-btn:hover {
    background-color: rgba(114, 137, 218, 0.3);
}

.nav-controls {
    display: flex;
    gap: 5px;
}

.nav-btn {
    background-color: transparent;
    border: none;
    color: var(--text-light);
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    border-radius: 6px;
    cursor: pointer;
    transition: background-color var(--transition-speed);
}

.nav-btn:hover {
    background-color: rgba(255,255,255,0.1);
}

.nav-breadcrumb {
    display: flex;
    align-items: center;
    gap: 5px;
    flex: 1;
    background-color: rgba(0,0,0,0.15);
    padding: 6px 12px;
    border-radius: 6px;
    font-size: 0.9rem;
}

/* Modification de la section desktop-content pour ajuster le padding */
.desktop-content {
    grid-area: content;
    padding: 20px;
    overflow-y: auto;
    margin-top: 0; /* Supprimer la marge puisque le path est maintenant dans le header */
}

    
    
    /* Style pour les dossiers vides */
.empty-folder {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    width: 100%;
    padding: 40px 0;
    text-align: center;
    grid-column: 1 / -1;
}

/* Mettre à jour le style du chemin pour le rendre cliquable */
.path-item {
    color: var(--primary-color);
    cursor: pointer;
}

.path-item:hover {
    text-decoration: underline;
}

/* Rendre l'icône de la maison cliquable */
.mobile-path i.fas.fa-home, 
.nav-breadcrumb i.fas.fa-home {
    cursor: pointer;
    color: var(--primary-color);
    margin-right: 5px;
}

.mobile-path i.fas.fa-home:hover, 
.nav-breadcrumb i.fas.fa-home:hover {
    opacity: 0.8;
}

    
    
    /* Styles pour la mise en page de l'écran d'accueil */
.desktop-home-layout {
    padding: 20px;
    display: flex;
    flex-direction: column;
    gap: 30px;
}

.desktop-section {
    background-color: var(--card-dark);
    border-radius: var(--border-radius);
    padding: 20px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}

.desktop-section-title {
    font-size: 1.2rem;
    font-weight: 600;
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    gap: 10px;
    color: var(--primary-color);
}

/* Ajustements pour la vue mobile */
.mobile-content .section-title i.fa-bolt {
    color: #ffca28;
}

.mobile-content .section-title i.fa-clock-rotate-left {
    color: #42a5f5;
}

.mobile-content .section-title i.fa-folder-open {
    color: #66bb6a;
}

    </style>
</head>
<body>
    <!-- Mobile View -->
    <div class="mobile-view">
        <div class="mobile-header">
            <div class="logo">
                <i class="fas fa-link"></i>
                JL-Link Manager
            </div>
            <div class="search-container">
                <i class="fas fa-search"></i>
                <input type="text" placeholder="Search links and folders...">
            </div>
            <div class="overflow-menu">
                <button class="overflow-menu-btn">
                    <i class="fas fa-ellipsis-vertical"></i>
                </button>
                <div class="overflow-dropdown">
                    <div class="dropdown-item" id="mobile-select-btn">
                        <i class="far fa-check-square"></i>
                        <span>Select</span>
                    </div>
                    <div class="dropdown-item" id="mobile-copy-btn">
                        <i class="far fa-copy"></i>
                        <span>Copy</span>
                    </div>
                    <div class="dropdown-item" id="mobile-move-btn">
                        <i class="fas fa-file-export"></i>
                        <span>Move</span>
                    </div>
                    <div class="dropdown-item" id="mobile-delete-btn">
                        <i class="far fa-trash-alt"></i>
                        <span>Delete</span>
                    </div>
                    <div class="dropdown-item" id="mobile-info-btn">
                        <i class="fas fa-info-circle"></i>
                        <span>Info</span>
                    </div>
                    <div class="dropdown-item" id="mobile-rename-btn">
                        <i class="far fa-edit"></i>
                        <span>Rename</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="mobile-path">
            <i class="fas fa-home"></i>
            <span class="path-item">Storage</span>
            <span class="separator">/</span>
            <span class="path-item">Desktop</span>
        </div>
        
        <div class="mobile-content" id="mobile-home-content">
            <div class="storage-section">
                <div class="storage-icon">
                    <i class="fas fa-server"></i>
                </div>
                <div class="storage-info">
                    <div class="storage-title">Cloud Storage</div>
                    <div class="storage-detail">
                        <span id="mobile-total-apps">24 apps</span> • 
                        <span id="mobile-top-folders">5 folders</span> • 
                        <span id="mobile-total-folders">8 folders</span>
                    </div>
                </div>
                <i class="fas fa-chevron-right"></i>
            </div>
            
            <div class="section-title">
                <i class="fas fa-folder"></i>
                Storage
            </div>
            
            <div class="grid-container">
                <div class="folder-item" data-name="Desktop">
                    <div class="folder-icon">
                        <i class="fas fa-folder"></i>
                        <div class="folder-app-preview">
                            <img src="https://www.google.com/s2/favicons?domain=github.com&sz=64" class="preview-icon">
                            <img src="https://www.google.com/s2/favicons?domain=twitter.com&sz=64" class="preview-icon">
                            <img src="https://www.google.com/s2/favicons?domain=youtube.com&sz=64" class="preview-icon">
                        </div>
                    </div>
                    <div class="item-name">Desktop</div>
                    <div class="selection-checkbox"></div>
                </div>
                
                <div class="folder-item" data-name="Work">
                    <div class="folder-icon">
                        <i class="fas fa-folder"></i>
                        <div class="folder-app-preview">
                            <img src="https://www.google.com/s2/favicons?domain=slack.com&sz=64" class="preview-icon">
                            <img src="https://www.google.com/s2/favicons?domain=notion.so&sz=64" class="preview-icon">
                            <img src="https://www.google.com/s2/favicons?domain=gmail.com&sz=64" class="preview-icon">
                        </div>
                    </div>
                    <div class="item-name">Work</div>
                    <div class="selection-checkbox"></div>
                </div>
                
                <div class="folder-item" data-name="Entertainment">
                    <div class="folder-icon">
                        <i class="fas fa-folder"></i>
                        <div class="folder-app-preview">
                            <img src="https://www.google.com/s2/favicons?domain=netflix.com&sz=64" class="preview-icon">
                            <img src="https://www.google.com/s2/favicons?domain=spotify.com&sz=64" class="preview-icon">
                            <img src="https://www.google.com/s2/favicons?domain=twitch.tv&sz=64" class="preview-icon">
                        </div>
                    </div>
                    <div class="item-name">Entertainment</div>
                    <div class="selection-checkbox"></div>
                </div>
            </div>
            
            <div class="section-title">
                <i class="fas fa-clock-rotate-left"></i>
                Recently Added
            </div>
            
            <div class="grid-container">
                <div class="app-item" data-name="GitHub">
                    <img src="https://www.google.com/s2/favicons?domain=github.com&sz=64" class="app-icon">
                    <div class="item-name">GitHub</div>
                    <div class="selection-checkbox"></div>
                </div>
                
                <div class="app-item" data-name="YouTube">
                    <img src="https://www.google.com/s2/favicons?domain=youtube.com&sz=64" class="app-icon">
                    <div class="item-name">YouTube</div>
                    <div class="selection-checkbox"></div>
                </div>
                
                <div class="app-item" data-name="Twitter">
                    <img src="https://www.google.com/s2/favicons?domain=twitter.com&sz=64" class="app-icon">
                    <div class="item-name">Twitter</div>
                    <div class="selection-checkbox"></div>
                </div>
                
                <div class="app-item" data-name="Netflix">
                    <img src="https://www.google.com/s2/favicons?domain=netflix.com&sz=64" class="app-icon">
                    <div class="item-name">Netflix</div>
                    <div class="selection-checkbox"></div>
                </div>
            </div>
            
            <div class="section-title">
                <i class="fas fa-folder-open"></i>
                Recently Modified Folders
            </div>
            
            <div class="grid-container">
                <div class="folder-item" data-name="Work">
                    <div class="folder-icon">
                        <i class="fas fa-folder"></i>
                        <div class="folder-app-preview">
                            <img src="https://www.google.com/s2/favicons?domain=slack.com&sz=64" class="preview-icon">
                            <img src="https://www.google.com/s2/favicons?domain=notion.so&sz=64" class="preview-icon">
                            <img src="https://www.google.com/s2/favicons?domain=gmail.com&sz=64" class="preview-icon">
                        </div>
                    </div>
                    <div class="item-name">Work</div>
                    <div class="selection-checkbox"></div>
                </div>
                
                <div class="folder-item" data-name="Entertainment">
                    <div class="folder-icon">
                        <i class="fas fa-folder"></i>
                        <div class="folder-app-preview">
                            <img src="https://www.google.com/s2/favicons?domain=netflix.com&sz=64" class="preview-icon">
                            <img src="https://www.google.com/s2/favicons?domain=spotify.com&sz=64" class="preview-icon">
                            <img src="https://www.google.com/s2/favicons?domain=twitch.tv&sz=64" class="preview-icon">
                        </div>
                    </div>
                    <div class="item-name">Entertainment</div>
                    <div class="selection-checkbox"></div>
                </div>
            </div>
        </div>
        
        <div class="mobile-content" id="mobile-explore-content" style="display:none;">
            <div class="alphabet-filter">
                <button class="letter-btn active">#</button>
                <button class="letter-btn">A</button>
                <button class="letter-btn">B</button>
                <button class="letter-btn">C</button>
                <button class="letter-btn">D</button>
                <button class="letter-btn">E</button>
                <button class="letter-btn">F</button>
                <button class="letter-btn">G</button>
                <button class="letter-btn">H</button>
                <button class="letter-btn">I</button>
                <button class="letter-btn">J</button>
                <button class="letter-btn">K</button>
                <button class="letter-btn">L</button>
                <button class="letter-btn">M</button>
                <button class="letter-btn">N</button>
                <button class="letter-btn">O</button>
                <button class="letter-btn">P</button>
                <button class="letter-btn">Q</button>
                <button class="letter-btn">R</button>
                <button class="letter-btn">S</button>
                <button class="letter-btn">T</button>
                <button class="letter-btn">U</button>
                <button class="letter-btn">V</button>
                <button class="letter-btn">W</button>
                <button class="letter-btn">X</button>
                <button class="letter-btn">Y</button>
                <button class="letter-btn">Z</button>
            </div>
            
            <div class="section-title" id="number-section">
                <span>#</span>
            </div>
            
            <div class="grid-container">
                <div class="app-item" data-name="1Password">
                    <img src="https://www.google.com/s2/favicons?domain=1password.com&sz=64" class="app-icon">
                    <div class="item-name">1Password</div>
                    <div class="selection-checkbox"></div>
                </div>
                
                <div class="app-item" data-name="500px">
                    <img src="https://www.google.com/s2/favicons?domain=500px.com&sz=64" class="app-icon">
                    <div class="item-name">500px</div>
                    <div class="selection-checkbox"></div>
                </div>
            </div>
            
            <div class="section-title" id="a-section">
                <span>A</span>
            </div>
            
            <div class="grid-container">
                <div class="app-item" data-name="Airbnb">
                    <img src="https://www.google.com/s2/favicons?domain=airbnb.com&sz=64" class="app-icon">
                    <div class="item-name">Airbnb</div>
                    <div class="selection-checkbox"></div>
                </div>
                
                <div class="app-item" data-name="Amazon">
                    <img src="https://www.google.com/s2/favicons?domain=amazon.com&sz=64" class="app-icon">
                    <div class="item-name">Amazon</div>
                    <div class="selection-checkbox"></div>
                </div>
                
                <div class="app-item" data-name="Apple">
                    <img src="https://www.google.com/s2/favicons?domain=apple.com&sz=64" class="app-icon">
                    <div class="item-name">Apple</div>
                    <div class="selection-checkbox"></div>
                </div>
            </div>
            
            <div class="section-title" id="b-section">
                <span>B</span>
            </div>
            
            <div class="grid-container">
                <div class="app-item" data-name="Behance">
                    <img src="https://www.google.com/s2/favicons?domain=behance.net&sz=64" class="app-icon">
                    <div class="item-name">Behance</div>
                    <div class="selection-checkbox"></div>
                </div>
                
                <div class="app-item" data-name="Bing">
                    <img src="https://www.google.com/s2/favicons?domain=bing.com&sz=64" class="app-icon">
                    <div class="item-name">Bing</div>
                    <div class="selection-checkbox"></div>
                </div>
            </div>
        </div>
        
        <div class="mobile-content" id="mobile-me-content" style="display:none;">
            <div class="user-section" style="margin: 20px 0;">
                <div class="user-avatar">JD</div>
                <div class="user-info">
                    <div class="user-name">John Doe</div>
                    <div class="user-status">Premium User</div>
                </div>
            </div>
            
            <div class="section-title">
                <i class="fas fa-cog"></i>
                Settings
            </div>
            
            <div style="background-color: var(--card-dark); border-radius: var(--border-radius); overflow: hidden;">
                <div class="dropdown-item">
                    <i class="fas fa-palette"></i>
                    <span>Appearance</span>
                </div>
                <div class="dropdown-item">
                    <i class="fas fa-bell"></i>
                    <span>Notifications</span>
                </div>
                <div class="dropdown-item">
                    <i class="fas fa-lock"></i>
                    <span>Privacy & Security</span>
                </div>
                <div class="dropdown-item">
                    <i class="fas fa-cloud-upload-alt"></i>
                    <span>Backup & Sync</span>
                </div>
                <div class="dropdown-item">
                    <i class="fas fa-language"></i>
                    <span>Language</span>
                </div>
                <div class="dropdown-item">
                    <i class="fas fa-question-circle"></i>
                    <span>Help & Support</span>
                </div>
                <div class="dropdown-item">
                    <i class="fas fa-info-circle"></i>
                    <span>About</span>
                </div>
            </div>
            
            <div class="section-title">
                <i class="fas fa-sign-out-alt"></i>
                Account
            </div>
            
            <div style="background-color: var(--card-dark); border-radius: var(--border-radius); overflow: hidden;">
                <div class="dropdown-item">
                    <i class="fas fa-user-edit"></i>
                    <span>Edit Profile</span>
                </div>
                <div class="dropdown-item">
                    <i class="fas fa-crown"></i>
                    <span>Upgrade to Premium</span>
                </div>
                <div class="dropdown-item" style="color: #ff5252;">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>Logout</span>
                </div>
            </div>
        </div>
        
        <div class="mobile-bottom-nav">
            <div class="nav-item active" data-content="home">
                <i class="fas fa-home nav-icon"></i>
                <span>Home</span>
            </div>
            <div class="nav-item" data-content="explore">
                <i class="fas fa-compass nav-icon"></i>
                <span>Explore</span>
            </div>
            <div class="nav-item" data-content="create">
                <i class="fas fa-plus nav-icon"></i>
                <span>Create</span>
            </div>
            <div class="nav-item" data-content="export">
                <i class="fas fa-file-export nav-icon"></i>
                <span>Export</span>
            </div>
            <div class="nav-item" data-content="me">
                <i class="fas fa-user nav-icon"></i>
                <span>Me</span>
            </div>
        </div>
        
        <div class="selection-toolbar">
            <div class="selection-count">0 items selected</div>
            <div class="selection-actions">
                <button class="action-btn" id="mobile-select-all">
                    <i class="fas fa-check-double"></i>
                </button>
                <button class="action-btn" id="mobile-selection-copy">
                    <i class="far fa-copy"></i>
                </button>
                <button class="action-btn" id="mobile-selection-move">
                    <i class="fas fa-file-export"></i>
                </button>
                <button class="action-btn" id="mobile-selection-delete">
                    <i class="far fa-trash-alt"></i>
                </button>
                <button class="action-btn" id="mobile-selection-cancel">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>
    </div>
    
    <!-- Desktop View -->
    <div class="desktop-view">
 <div class="desktop-header">
<div class="desktop-header-top">
    <div class="logo">
        <i class="fas fa-link"></i>
        JL-Link Manager
    </div>
    
    <div class="search-container desktop-search">
        <i class="fas fa-search"></i>
        <input type="text" placeholder="Search links and folders...">
    </div>
    
    <div class="header-actions">
        <button class="header-btn explore-btn">
            <i class="fas fa-compass"></i>
            <span>Explorer</span>
        </button>
        <button class="header-btn export-btn">
            <i class="fas fa-download"></i>
            <span>Exporter</span>
        </button>
    </div>
</div>
<div class="desktop-header-nav">
    <div class="nav-controls">
        <button class="nav-btn">
            <i class="fas fa-arrow-left"></i>
        </button>
        <button class="nav-btn">
            <i class="fas fa-arrow-right"></i>
        </button>
        <button class="nav-btn">
            <i class="fas fa-arrow-up"></i>
        </button>
        <button class="nav-btn">
            <i class="fas fa-sync-alt"></i>
        </button>
    </div>
    
    <div class="nav-breadcrumb">
        <i class="fas fa-home"></i>
        <span class="path-item">Storage</span>
        <span class="separator">/</span>
        <span class="path-item">Desktop</span>
    </div>
</div>

    
    <div class="action-buttons">
        <button class="action-btn" id="desktop-create-btn">
            <i class="fas fa-folder-plus"></i>
            <span>Create</span>
        </button>
        <button class="action-btn" id="desktop-select-btn">
            <i class="far fa-check-square"></i>
            <span>Select</span>
        </button>
        <button class="action-btn" id="desktop-copy-btn">
            <i class="far fa-copy"></i>
            <span>Copy</span>
        </button>
        <button class="action-btn" id="desktop-move-btn">
            <i class="fas fa-file-export"></i>
            <span>Move</span>
        </button>
        <button class="action-btn" id="desktop-paste-btn">
            <i class="fas fa-paste"></i>
            <span>Paste</span>
        </button>
        <button class="action-btn" id="desktop-delete-btn">
            <i class="far fa-trash-alt"></i>
            <span>Delete</span>
        </button>
        <button class="action-btn" id="desktop-rename-btn">
            <i class="far fa-edit"></i>
            <span>Rename</span>
        </button>
        <button class="action-btn" id="desktop-info-btn">
            <i class="fas fa-info-circle"></i>
            <span>Info</span>
        </button>
        <button class="action-btn" id="desktop-export-btn">
            <i class="fas fa-download"></i>
            <span>Export</span>
        </button>
    </div>
</div>

        
        <div class="sidebar">
<div class="sidebar-section">
    <div class="sidebar-title">
        <i class="fas fa-home"></i>
        Home
    </div>
    <div class="sidebar-item active">
        <i class="fas fa-server"></i>
        <span>Storage</span>
    </div>
    <div class="sidebar-item">
        <i class="fas fa-clock-rotate-left"></i>
        <span>Recent</span>
    </div>
    <div class="sidebar-item">
        <i class="far fa-star"></i>
        <span>Favorites</span>
    </div>
    
    <div class="sidebar-subsection">
        <div class="sidebar-subtitle">
            <i class="fas fa-folder"></i>
            Accès rapide
        </div>
        
        <div class="sidebar-quick-folders">
            <div class="sidebar-folder-item" data-name="Desktop">
                <div class="sidebar-folder-icon">
                    <i class="fas fa-folder"></i>
                    <div class="folder-mini-preview">
                        <img src="https://www.google.com/s2/favicons?domain=github.com&sz=64" class="mini-icon">
                        <img src="https://www.google.com/s2/favicons?domain=twitter.com&sz=64" class="mini-icon">
                        <img src="https://www.google.com/s2/favicons?domain=youtube.com&sz=64" class="mini-icon">
                    </div>
                </div>
                <div class="sidebar-folder-name">Desktop</div>
            </div>
            
            <div class="sidebar-folder-item" data-name="Work">
                <div class="sidebar-folder-icon">
                    <i class="fas fa-folder"></i>
                    <div class="folder-mini-preview">
                        <img src="https://www.google.com/s2/favicons?domain=slack.com&sz=64" class="mini-icon">
                        <img src="https://www.google.com/s2/favicons?domain=notion.so&sz=64" class="mini-icon">
                        <img src="https://www.google.com/s2/favicons?domain=gmail.com&sz=64" class="mini-icon">
                    </div>
                </div>
                <div class="sidebar-folder-name">Work</div>
            </div>
            
            <div class="sidebar-folder-item" data-name="Entertainment">
                <div class="sidebar-folder-icon">
                    <i class="fas fa-folder"></i>
                    <div class="folder-mini-preview">
                        <img src="https://www.google.com/s2/favicons?domain=netflix.com&sz=64" class="mini-icon">
                        <img src="https://www.google.com/s2/favicons?domain=spotify.com&sz=64" class="mini-icon">
                        <img src="https://www.google.com/s2/favicons?domain=twitch.tv&sz=64" class="mini-icon">
                    </div>
                </div>
                <div class="sidebar-folder-name">Entertainment</div>
            </div>
        </div>
        
        <div class="sidebar-subtitle">
            <i class="fas fa-clock-rotate-left"></i>
            Recently Added
        </div>
        
        <div class="sidebar-quick-apps">
            <div class="sidebar-app-item" data-name="GitHub">
                <img src="https://www.google.com/s2/favicons?domain=github.com&sz=64" class="sidebar-app-icon">
                <div class="sidebar-app-name">GitHub</div>
            </div>
            
            <div class="sidebar-app-item" data-name="YouTube">
                <img src="https://www.google.com/s2/favicons?domain=youtube.com&sz=64" class="sidebar-app-icon">
                <div class="sidebar-app-name">YouTube</div>
            </div>
            
            <div class="sidebar-app-item" data-name="Twitter">
                <img src="https://www.google.com/s2/favicons?domain=twitter.com&sz=64" class="sidebar-app-icon">
                <div class="sidebar-app-name">Twitter</div>
            </div>
            
            <div class="sidebar-app-item" data-name="Netflix">
                <img src="https://www.google.com/s2/favicons?domain=netflix.com&sz=64" class="sidebar-app-icon">
                <div class="sidebar-app-name">Netflix</div>
            </div>
        </div>
        
<div class="sidebar-subtitle">
    <i class="fas fa-folder-open"></i>
    Recently Modified Folders
</div>
<div class="sidebar-quick-folders">
    <div class="sidebar-folder-item" data-name="Work">
        <div class="sidebar-folder-icon">
            <i class="fas fa-folder"></i>
            <div class="folder-mini-preview">
                <img src="https://www.google.com/s2/favicons?domain=slack.com&sz=64" class="mini-icon">
                <img src="https://www.google.com/s2/favicons?domain=notion.so&sz=64" class="mini-icon">
                <img src="https://www.google.com/s2/favicons?domain=gmail.com&sz=64" class="mini-icon">
            </div>
        </div>
        <div class="sidebar-folder-name">Work</div>
    </div>
    
    <div class="sidebar-folder-item" data-name="Entertainment">
        <div class="sidebar-folder-icon">
            <i class="fas fa-folder"></i>
            <div class="folder-mini-preview">
                <img src="https://www.google.com/s2/favicons?domain=netflix.com&sz=64" class="mini-icon">
                <img src="https://www.google.com/s2/favicons?domain=spotify.com&sz=64" class="mini-icon">
                <img src="https://www.google.com/s2/favicons?domain=twitch.tv&sz=64" class="mini-icon">
            </div>
        </div>
        <div class="sidebar-folder-name">Entertainment</div>
    </div>
</div>

    </div>
</div>

            
<div class="sidebar-section">
    <div class="sidebar-title">
        <i class="fas fa-folder"></i>
        Folders
    </div>
    <div class="sidebar-item">
        <div class="modern-pc-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M20 4H4C2.89543 4 2 4.89543 2 6V15C2 16.1046 2.89543 17 4 17H20C21.1046 17 22 16.1046 22 15V6C22 4.89543 21.1046 4 20 4Z" fill="url(#pc-gradient-1)"/>
                <path d="M8 20H16M12 17V20" stroke="#5865f2" stroke-width="2" stroke-linecap="round"/>
                <rect x="4" y="6" width="16" height="9" rx="1" fill="url(#pc-gradient-2)"/>
                <defs>
                    <linearGradient id="pc-gradient-1" x1="2" y1="4" x2="22" y2="17" gradientUnits="userSpaceOnUse">
                        <stop offset="0" stop-color="#5865f2"/>
                        <stop offset="1" stop-color="#7289da"/>
                    </linearGradient>
                    <linearGradient id="pc-gradient-2" x1="4" y1="6" x2="20" y2="15" gradientUnits="userSpaceOnUse">
                        <stop offset="0" stop-color="#1e1e2e"/>
                        <stop offset="1" stop-color="#2a2a3a"/>
                    </linearGradient>
                </defs>
            </svg>
        </div>
        <span>This PC</span>
    </div>
    <div class="folder-tree">
        <div class="tree-item">
            <div class="tree-toggle">
                <i class="fas fa-chevron-right"></i>
            </div>
            <i class="fas fa-folder"></i>
            <span>Work</span>
        </div>
        <div class="tree-item">
            <div class="tree-toggle">
                <i class="fas fa-chevron-down"></i>
            </div>
            <i class="fas fa-folder-open"></i>
            <span>Storage</span>
        </div>
        <div class="folder-tree" style="margin-left: 15px;">
            <div class="tree-item">
                <div class="tree-toggle" style="visibility: hidden;">
                    <i class="fas fa-chevron-right"></i>
                </div>
                <i class="fas fa-folder"></i>
                <span>Movies</span>
            </div>
            <div class="tree-item">
                <div class="tree-toggle" style="visibility: hidden;">
                    <i class="fas fa-chevron-right"></i>
                </div>
                <i class="fas fa-folder"></i>
                <span>Music</span>
            </div>
        </div>
    </div>
</div>


            
            <div class="user-section">
                <div class="user-avatar">JD</div>
                <div class="user-info">
                    <div class="user-name">John Doe</div>
                    <div class="user-status">Premium User</div>
                </div>
                <i class="fas fa-cog"></i>
            </div>
        </div>
        
        <div class="desktop-content">
 
            
            <div class="grid-container desktop-grid">
                <div class="folder-item" data-name="Work">
                    <div class="folder-icon">
                        <i class="fas fa-folder"></i>
                        <div class="folder-app-preview">
                            <img src="https://www.google.com/s2/favicons?domain=slack.com&sz=64" class="preview-icon">
                            <img src="https://www.google.com/s2/favicons?domain=notion.so&sz=64" class="preview-icon">
                            <img src="https://www.google.com/s2/favicons?domain=gmail.com&sz=64" class="preview-icon">
                        </div>
                    </div>
                    <div class="item-name">Work</div>
                    <div class="selection-checkbox"></div>
                </div>
                
                <div class="folder-item" data-name="Entertainment">
                    <div class="folder-icon">
                        <i class="fas fa-folder"></i>
                        <div class="folder-app-preview">
                            <img src="https://www.google.com/s2/favicons?domain=netflix.com&sz=64" class="preview-icon">
                            <img src="https://www.google.com/s2/favicons?domain=spotify.com&sz=64" class="preview-icon">
                            <img src="https://www.google.com/s2/favicons?domain=twitch.tv&sz=64" class="preview-icon">
                        </div>
                    </div>
                    <div class="item-name">Entertainment</div>
                    <div class="selection-checkbox"></div>
                </div>
                
                <div class="app-item" data-name="GitHub">
                    <img src="https://www.google.com/s2/favicons?domain=github.com&sz=64" class="app-icon">
                    <div class="item-name">GitHub</div>
                    <div class="selection-checkbox"></div>
                </div>
                
                <div class="app-item" data-name="YouTube">
                    <img src="https://www.google.com/s2/favicons?domain=youtube.com&sz=64" class="app-icon">
                    <div class="item-name">YouTube</div>
                    <div class="selection-checkbox"></div>
                </div>
                
                <div class="app-item" data-name="Twitter">
                    <img src="https://www.google.com/s2/favicons?domain=twitter.com&sz=64" class="app-icon">
                    <div class="item-name">Twitter</div>
                    <div class="selection-checkbox"></div>
                </div>
                
                <div class="app-item" data-name="Netflix">
                    <img src="https://www.google.com/s2/favicons?domain=netflix.com&sz=64" class="app-icon">
                    <div class="item-name">Netflix</div>
                    <div class="selection-checkbox"></div>
                </div>
                
                <div class="app-item" data-name="Spotify">
                    <img src="https://www.google.com/s2/favicons?domain=spotify.com&sz=64" class="app-icon">
                    <div class="item-name">Spotify</div>
                    <div class="selection-checkbox"></div>
                </div>
                
                <div class="app-item" data-name="Gmail">
                    <img src="https://www.google.com/s2/favicons?domain=gmail.com&sz=64" class="app-icon">
                    <div class="item-name">Gmail</div>
                    <div class="selection-checkbox"></div>
                </div>
            </div>
        </div>
        
        <div class="status-bar">
            <span>8 items</span>
        </div>
    </div>
    
    <!-- Context Menu -->
    <div class="context-menu" id="context-menu">
        <div class="context-menu-item" data-action="open">
            <i class="fas fa-external-link-alt"></i>
            <span>Open</span>
        </div>
        <div class="context-menu-item" data-action="select">
            <i class="far fa-check-square"></i>
            <span>Select</span>
        </div>
        <div class="context-menu-item" data-action="copy">
            <i class="far fa-copy"></i>
            <span>Copy</span>
        </div>
        <div class="context-menu-item" data-action="move">
            <i class="fas fa-file-export"></i>
            <span>Move</span>
        </div>
        <div class="context-menu-item" data-action="delete">
            <i class="far fa-trash-alt"></i>
            <span>Delete</span>
        </div>
        <div class="context-menu-item" data-action="rename">
            <i class="far fa-edit"></i>
            <span>Rename</span>
        </div>
        <div class="context-menu-item" data-action="info">
            <i class="fas fa-info-circle"></i>
            <span>Info</span>
        </div>
    </div>
    
    <!-- Modals -->
    <div class="modal-overlay" id="create-modal">
        <div class="modal">
            <div class="modal-header">
                <div class="modal-title">Create New Folder</div>
                <button class="modal-close"><i class="fas fa-times"></i></button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Folder Name</label>
                    <input type="text" class="form-input" placeholder="Enter folder name">
                </div>
                <div class="form-buttons">
                    <button class="btn btn-secondary modal-close-btn">Cancel</button>
                    <button class="btn btn-primary" id="create-folder-btn">Create</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal-overlay" id="rename-modal">
        <div class="modal">
            <div class="modal-header">
                <div class="modal-title">Rename</div>
                <button class="modal-close"><i class="fas fa-times"></i></button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">New Name</label>
                    <input type="text" class="form-input" id="rename-input" placeholder="Enter new name">
                </div>
                <div class="form-buttons">
                    <button class="btn btn-secondary modal-close-btn">Cancel</button>
                    <button class="btn btn-primary" id="rename-btn">Rename</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal-overlay" id="add-link-modal">
        <div class="modal">
            <div class="modal-header">
                <div class="modal-title">Add New Link</div>
                <button class="modal-close"><i class="fas fa-times"></i></button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Link Name</label>
                    <input type="text" class="form-input" id="link-name-input" placeholder="Enter link name">
                </div>
                <div class="form-group">
                    <label class="form-label">URL</label>
                    <input type="url" class="form-input" id="link-url-input" placeholder="https://example.com">
                </div>
                <div class="form-group">
                    <label class="form-label">Folder</label>
                    <select class="form-input" id="link-folder-select">
                        <option value="">Desktop (No folder)</option>
                        <option value="work">Work</option>
                        <option value="entertainment">Entertainment</option>
                    </select>
                </div>
                <div class="form-buttons">
                    <button class="btn btn-secondary modal-close-btn">Cancel</button>
                    <button class="btn btn-primary" id="add-link-btn">Add Link</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal-overlay" id="info-modal">
        <div class="modal">
            <div class="modal-header">
                <div class="modal-title">Item Information</div>
                <button class="modal-close"><i class="fas fa-times"></i></button>
            </div>
            <div class="modal-body">
                <div id="info-content">
                    <div style="text-align: center; margin-bottom: 20px;">
                        <img src="https://www.google.com/s2/favicons?domain=github.com&sz=64" class="app-icon" style="width: 64px; height: 64px;">
                        <h3 style="margin-top: 10px;">GitHub</h3>
                    </div>
                    
                    <div style="margin-bottom: 10px;">
                        <strong>Type:</strong> <span>Web Link</span>
                    </div>
                    <div style="margin-bottom: 10px;">
                        <strong>URL:</strong> <span>https://github.com</span>
                    </div>
                    <div style="margin-bottom: 10px;">
                        <strong>Location:</strong> <span>Desktop</span>
                    </div>
                    <div style="margin-bottom: 10px;">
                        <strong>Added on:</strong> <span>August 10, 2025</span>
                    </div>
                    <div style="margin-bottom: 10px;">
                        <strong>Last accessed:</strong> <span>August 15, 2025</span>
                    </div>
                </div>
                <div class="form-buttons">
                    <button class="btn btn-secondary modal-close-btn">Close</button>
                    <button class="btn btn-primary" id="open-link-btn">Open Link</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal-overlay" id="delete-confirm-modal">
        <div class="modal">
            <div class="modal-header">
                <div class="modal-title">Confirm Deletion</div>
                <button class="modal-close"><i class="fas fa-times"></i></button>
            </div>
            <div class="modal-body">
                <p style="margin-bottom: 20px;">Are you sure you want to delete the selected items? This action cannot be undone.</p>
                <div class="form-buttons">
                    <button class="btn btn-secondary modal-close-btn">Cancel</button>
                    <button class="btn btn-primary" style="background-color: #ff5252;" id="confirm-delete-btn">Delete</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Toast Container -->
    <div class="toast-container" id="toast-container"></div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
    // Data model
const appData = {
    items: [],
    selectedItems: [],
    currentPath: ['Home'],
    clipboardItems: [],
    clipboardOperation: null, // 'copy' or 'move'
    currentView: 'home',
    isSelectionMode: false
};

    
// Structure des dossiers
const fileSystem = {
    Home: {
        type: 'home',
        items: {
            Storage: {
                type: 'folder',
                items: {
                    Desktop: {
                        type: 'folder',
                        items: {
                            GitHub: { type: 'app', url: 'https://github.com' },
                            YouTube: { type: 'app', url: 'https://youtube.com' },
                            Twitter: { type: 'app', url: 'https://twitter.com' }
                        }
                    },
                    Work: {
                        type: 'folder',
                        items: {
                            Slack: { type: 'app', url: 'https://slack.com' },
                            Notion: { type: 'app', url: 'https://notion.so' },
                            Gmail: { type: 'app', url: 'https://gmail.com' }
                        }
                    },
                    Entertainment: {
                        type: 'folder',
                        items: {
                            Netflix: { type: 'app', url: 'https://netflix.com' },
                            Spotify: { type: 'app', url: 'https://spotify.com' },
                            Twitch: { type: 'app', url: 'https://twitch.tv' }
                        }
                    },
                    Movies: {
                        type: 'folder',
                        items: {}
                    },
                    Music: {
                        type: 'folder',
                        items: {}
                    }
                }
            }
        }
    }
};

    
    // DOM Elements
    const mobileNavItems = document.querySelectorAll('.mobile-bottom-nav .nav-item');
    const mobileContentSections = document.querySelectorAll('.mobile-content');
    const overflowMenuBtn = document.querySelector('.overflow-menu-btn');
    const overflowDropdown = document.querySelector('.overflow-dropdown');
    const contextMenu = document.getElementById('context-menu');
    const selectionToolbar = document.querySelector('.selection-toolbar');
    const selectionCount = document.querySelector('.selection-count');
    
    // Modals
    const createModal = document.getElementById('create-modal');
    const renameModal = document.getElementById('rename-modal');
    const addLinkModal = document.getElementById('add-link-modal');
    const infoModal = document.getElementById('info-modal');
    const deleteConfirmModal = document.getElementById('delete-confirm-modal');
    
    // Mobile action buttons
    const mobileSelectBtn = document.getElementById('mobile-select-btn');
    const mobileCopyBtn = document.getElementById('mobile-copy-btn');
    const mobileMoveBtn = document.getElementById('mobile-move-btn');
    const mobileDeleteBtn = document.getElementById('mobile-delete-btn');
    const mobileInfoBtn = document.getElementById('mobile-info-btn');
    const mobileRenameBtn = document.getElementById('mobile-rename-btn');
    
    // Desktop action buttons
    const desktopCreateBtn = document.getElementById('desktop-create-btn');
    const desktopSelectBtn = document.getElementById('desktop-select-btn');
    const desktopCopyBtn = document.getElementById('desktop-copy-btn');
    const desktopMoveBtn = document.getElementById('desktop-move-btn');
    const desktopPasteBtn = document.getElementById('desktop-paste-btn');
    const desktopDeleteBtn = document.getElementById('desktop-delete-btn');
    const desktopRenameBtn = document.getElementById('desktop-rename-btn');
    const desktopInfoBtn = document.getElementById('desktop-info-btn');
    const desktopExportBtn = document.getElementById('desktop-export-btn');
    
    // Selection tools
    const mobileSelectAll = document.getElementById('mobile-select-all');
    const mobileSelectionCopy = document.getElementById('mobile-selection-copy');
    const mobileSelectionMove = document.getElementById('mobile-selection-move');
    const mobileSelectionDelete = document.getElementById('mobile-selection-delete');
    const mobileSelectionCancel = document.getElementById('mobile-selection-cancel');
    
    // Helper functions
    function showModal(modalId) {
        const modal = document.getElementById(modalId);
        if (modal) {
            modal.classList.add('active');
            
            // Focus the first input if exists
            const firstInput = modal.querySelector('input');
            if (firstInput) {
                setTimeout(() => firstInput.focus(), 100);
            }
        } else {
            console.warn(`Modal with ID ${modalId} not found`);
        }
    }
    
    function hideModal(modalId) {
        const modal = document.getElementById(modalId);
        if (modal) {
            modal.classList.remove('active');
        }
    }
    
    function showToast(message, type = 'info') {
        // Créer un conteneur de toast s'il n'existe pas
        let container = document.getElementById('toast-container');
        if (!container) {
            container = document.createElement('div');
            container.id = 'toast-container';
            container.style.position = 'fixed';
            container.style.bottom = '20px';
            container.style.right = '20px';
            container.style.zIndex = '9999';
            document.body.appendChild(container);
        }
        
        const toast = document.createElement('div');
        toast.className = 'toast';
        toast.style.backgroundColor = 'var(--card-dark)';
        toast.style.color = 'var(--text-light)';
        toast.style.padding = '12px 16px';
        toast.style.borderRadius = 'var(--border-radius)';
        toast.style.marginTop = '10px';
        toast.style.boxShadow = '0 4px 12px rgba(0,0,0,0.2)';
        toast.style.display = 'flex';
        toast.style.alignItems = 'center';
        toast.style.minWidth = '250px';
        toast.style.transform = 'translateY(100px)';
        toast.style.opacity = '0';
        toast.style.transition = 'all 0.3s ease';
        
        let icon = 'info-circle';
        let iconColor = '#7289da';
        
        if (type === 'success') {
            icon = 'check-circle';
            iconColor = '#43b581';
        } else if (type === 'error') {
            icon = 'exclamation-circle';
            iconColor = '#f04747';
        }
        
        toast.innerHTML = `
            <div style="color: ${iconColor}; margin-right: 12px; font-size: 1.2rem;">
                <i class="fas fa-${icon}"></i>
            </div>
            <div>${message}</div>
        `;
        
        container.appendChild(toast);
        
        // Show toast with animation
        setTimeout(() => {
            toast.style.transform = 'translateY(0)';
            toast.style.opacity = '1';
        }, 10);
        
        // Hide and remove after 3 seconds
        setTimeout(() => {
            toast.style.transform = 'translateY(100px)';
            toast.style.opacity = '0';
            setTimeout(() => toast.remove(), 300);
        }, 3000);
    }
    
    function toggleSelectionMode(enable) {
        appData.isSelectionMode = enable;
        
        const body = document.body;
        if (enable) {
            body.classList.add('selection-mode');
            if (selectionToolbar) {
                selectionToolbar.classList.add('visible');
            }
        } else {
            body.classList.remove('selection-mode');
            if (selectionToolbar) {
                selectionToolbar.classList.remove('visible');
            }
            appData.selectedItems = [];
            updateSelectionCount();
            
            // Uncheck all checkboxes
            document.querySelectorAll('.selection-checkbox').forEach(checkbox => {
                checkbox.classList.remove('selected');
            });
        }
    }
    
    function updateSelectionCount() {
        if (selectionCount) {
            const count = appData.selectedItems.length;
            selectionCount.textContent = `${count} item${count !== 1 ? 's' : ''} selected`;
        }
    }
    
// Mettre à jour les chemins de navigation
function updatePaths() {
    // Récupérer le chemin actuel
    const currentPath = appData.currentPath;
    
    // Mettre à jour le chemin mobile
    const mobilePath = document.querySelector('.mobile-path');
    if (mobilePath) {
        mobilePath.innerHTML = '';
        
        // Ajouter l'icône home
        const homeIcon = document.createElement('i');
        homeIcon.className = 'fas fa-home';
        homeIcon.addEventListener('click', () => navigateTo(['Home']));
        mobilePath.appendChild(homeIcon);
        
        // Ajouter les éléments du chemin (sauf Home qui est représenté par l'icône)
        currentPath.slice(1).forEach((folder, index) => {
            // Ajouter un séparateur avant chaque élément
            const separator = document.createElement('span');
            separator.className = 'separator';
            separator.textContent = '/';
            mobilePath.appendChild(separator);
            
            const pathItem = document.createElement('span');
            pathItem.className = 'path-item';
            pathItem.textContent = folder;
            pathItem.addEventListener('click', () => {
                navigateTo(currentPath.slice(0, index + 2)); // +2 pour compenser le slice(1) et l'indexation 0
            });
            mobilePath.appendChild(pathItem);
        });
    }
    
    // Mettre à jour le chemin desktop
    const desktopPath = document.querySelector('.nav-breadcrumb');
    if (desktopPath) {
        desktopPath.innerHTML = '';
        
        // Ajouter l'icône home
        const desktopHomeIcon = document.createElement('i');
        desktopHomeIcon.className = 'fas fa-home';
        desktopHomeIcon.addEventListener('click', () => navigateTo(['Home']));
        desktopPath.appendChild(desktopHomeIcon);
        
        // Ajouter les éléments du chemin (sauf Home qui est représenté par l'icône)
        currentPath.slice(1).forEach((folder, index) => {
            // Ajouter un séparateur avant chaque élément
            const separator = document.createElement('span');
            separator.className = 'separator';
            separator.textContent = '/';
            desktopPath.appendChild(separator);
            
            const pathItem = document.createElement('span');
            pathItem.className = 'path-item';
            pathItem.textContent = folder;
            pathItem.addEventListener('click', () => {
                navigateTo(currentPath.slice(0, index + 2)); // +2 pour compenser le slice(1) et l'indexation 0
            });
            desktopPath.appendChild(pathItem);
        });
    }
}

// Mettre à jour la sidebar
function updateSidebar() {
    // Mise à jour des dossiers rapides sous "Accès rapide"
    const quickFoldersContainer = document.querySelector('.sidebar-quick-folders');
    if (quickFoldersContainer) {
        quickFoldersContainer.innerHTML = '';
        
        // Ajouter les dossiers importants
        const quickFolders = ['Desktop', 'Work', 'Entertainment'];
        
        quickFolders.forEach(folderName => {
            const storageFolder = fileSystem.Home.items.Storage.items[folderName];
            if (storageFolder) {
                // Récupérer les aperçus des applications dans le dossier
                let previewIcons = '';
                const folderItems = storageFolder.items;
                const appKeys = Object.keys(folderItems).filter(key => folderItems[key].type === 'app').slice(0, 3);
                
                appKeys.forEach(appName => {
                    const domain = folderItems[appName].url.replace('https://', '').split('/')[0];
                    previewIcons += `<img src="https://www.google.com/s2/favicons?domain=${domain}&sz=64" class="mini-icon">`;
                });
                
                const folderElement = document.createElement('div');
                folderElement.className = 'sidebar-folder-item';
                folderElement.setAttribute('data-name', folderName);
                folderElement.innerHTML = `
                    <div class="sidebar-folder-icon">
                        <i class="fas fa-folder"></i>
                        <div class="folder-mini-preview">
                            ${previewIcons || '<i class="fas fa-folder-open" style="font-size: 10px; color: #a0a0a0;"></i>'}
                        </div>
                    </div>
                    <div class="sidebar-folder-name">${folderName}</div>
                `;
                
                // Ajouter l'événement de clic
                folderElement.addEventListener('click', function() {
                    navigateTo(['Home', 'Storage', folderName]);
                });
                
                quickFoldersContainer.appendChild(folderElement);
            }
        });
    }
    
    // Mise à jour des applications récentes
    const quickAppsContainer = document.querySelector('.sidebar-quick-apps');
    if (quickAppsContainer) {
        quickAppsContainer.innerHTML = '';
        
        // Ajouter quelques applications récentes
        const recentApps = [
            { name: 'GitHub', url: 'https://github.com', folder: 'Desktop' },
            { name: 'YouTube', url: 'https://youtube.com', folder: 'Desktop' },
            { name: 'Twitter', url: 'https://twitter.com', folder: 'Desktop' },
            { name: 'Netflix', url: 'https://netflix.com', folder: 'Entertainment' }
        ];
        
        recentApps.forEach(app => {
            const domain = app.url.replace('https://', '').split('/')[0];
            
            const appElement = document.createElement('div');
            appElement.className = 'sidebar-app-item';
            appElement.setAttribute('data-name', app.name);
            appElement.innerHTML = `
                <img src="https://www.google.com/s2/favicons?domain=${domain}&sz=64" class="sidebar-app-icon">
                <div class="sidebar-app-name">${app.name}</div>
            `;
            
            // Ajouter l'événement de clic
            appElement.addEventListener('click', function() {
                showToast(`Opening ${app.name}`, 'info');
            });
            
            quickAppsContainer.appendChild(appElement);
        });
    }
    
    // Mise à jour des dossiers récemment modifiés
    const recentFoldersContainer = document.querySelector('.sidebar-subsection .sidebar-quick-folders:last-child');
    if (recentFoldersContainer) {
        recentFoldersContainer.innerHTML = '';
        
        // Ajouter quelques dossiers récents
        const recentFolders = ['Work', 'Entertainment'];
        
        recentFolders.forEach(folderName => {
            const storageFolder = fileSystem.Home.items.Storage.items[folderName];
            if (storageFolder) {
                // Récupérer les aperçus des applications dans le dossier
                let previewIcons = '';
                const folderItems = storageFolder.items;
                const appKeys = Object.keys(folderItems).filter(key => folderItems[key].type === 'app').slice(0, 3);
                
                appKeys.forEach(appName => {
                    const domain = folderItems[appName].url.replace('https://', '').split('/')[0];
                    previewIcons += `<img src="https://www.google.com/s2/favicons?domain=${domain}&sz=64" class="mini-icon">`;
                });
                
                const folderElement = document.createElement('div');
                folderElement.className = 'sidebar-folder-item';
                folderElement.setAttribute('data-name', folderName);
                folderElement.innerHTML = `
                    <div class="sidebar-folder-icon">
                        <i class="fas fa-folder"></i>
                        <div class="folder-mini-preview">
                            ${previewIcons || '<i class="fas fa-folder-open" style="font-size: 10px; color: #a0a0a0;"></i>'}
                        </div>
                    </div>
                    <div class="sidebar-folder-name">${folderName}</div>
                `;
                
                // Ajouter l'événement de clic
                folderElement.addEventListener('click', function() {
                    navigateTo(['Home', 'Storage', folderName]);
                });
                
                recentFoldersContainer.appendChild(folderElement);
            }
        });
    }
    
    // Mise à jour de l'arborescence des dossiers
    const folderTreeContainer = document.querySelector('.sidebar-section:nth-child(2) .folder-tree');
    if (folderTreeContainer) {
        folderTreeContainer.innerHTML = '';
        
        // Afficher les dossiers dans Storage
        const storageItems = fileSystem.Home.items.Storage.items;
        const storageKeys = Object.keys(storageItems);
        
        // Ajouter d'abord les dossiers principaux
        const mainFolders = ['Work', 'Storage'];
        
        mainFolders.forEach(folderName => {
            if (folderName === 'Storage') {
                // Créer un élément pour Storage qui est développé
                const storageTreeItem = document.createElement('div');
                storageTreeItem.className = 'tree-item';
                storageTreeItem.innerHTML = `
                    <div class="tree-toggle">
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <i class="fas fa-folder-open"></i>
                    <span>Storage</span>
                `;
                
                // Ajouter l'événement de clic sur Storage
                storageTreeItem.addEventListener('click', function(e) {
                    if (!e.target.closest('.tree-toggle')) {
                        navigateTo(['Home', 'Storage']);
                    }
                });
                
                // Ajouter l'événement de clic sur le toggle
                const toggle = storageTreeItem.querySelector('.tree-toggle');
                toggle.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const icon = this.querySelector('i');
                    const isExpanded = icon.classList.contains('fa-chevron-down');
                    
                    if (isExpanded) {
                        icon.classList.replace('fa-chevron-down', 'fa-chevron-right');
                        // Cacher les enfants
                        const storageSubtree = document.querySelector('.storage-subtree');
                        if (storageSubtree) {
                            storageSubtree.style.display = 'none';
                        }
                    } else {
                        icon.classList.replace('fa-chevron-right', 'fa-chevron-down');
                        // Afficher les enfants
                        const storageSubtree = document.querySelector('.storage-subtree');
                        if (storageSubtree) {
                            storageSubtree.style.display = 'block';
                        }
                    }
                });
                
                folderTreeContainer.appendChild(storageTreeItem);
                
                // Créer l'arborescence pour les dossiers dans Storage
                const storageSubtree = document.createElement('div');
                storageSubtree.className = 'folder-tree storage-subtree';
                storageSubtree.style.marginLeft = '15px';
                
                // Ajouter les dossiers de Storage
                Object.keys(storageItems).forEach(itemName => {
                    const item = storageItems[itemName];
                    
                    if (item.type === 'folder') {
                        const folderTreeItem = document.createElement('div');
                        folderTreeItem.className = 'tree-item';
                        folderTreeItem.innerHTML = `
                            <div class="tree-toggle" style="visibility: hidden;">
                                <i class="fas fa-chevron-right"></i>
                            </div>
                            <i class="fas fa-folder"></i>
                            <span>${itemName}</span>
                        `;
                        
                        // Ajouter l'événement de clic
                        folderTreeItem.addEventListener('click', function() {
                            navigateTo(['Home', 'Storage', itemName]);
                        });
                        
                        storageSubtree.appendChild(folderTreeItem);
                    }
                });
                
                folderTreeContainer.appendChild(storageSubtree);
            } else {
                // Créer un élément pour Work ou autres dossiers principaux
                const mainFolderItem = document.createElement('div');
                mainFolderItem.className = 'tree-item';
                mainFolderItem.innerHTML = `
                    <div class="tree-toggle">
                        <i class="fas fa-chevron-right"></i>
                    </div>
                    <i class="fas fa-folder"></i>
                    <span>${folderName}</span>
                `;
                
                // Ajouter l'événement de clic
                mainFolderItem.addEventListener('click', function(e) {
                    if (!e.target.closest('.tree-toggle')) {
                        navigateTo(['Home', 'Storage', folderName]);
                    }
                });
                
                // Ajouter l'événement de clic sur le toggle
                const toggle = mainFolderItem.querySelector('.tree-toggle');
                toggle.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const icon = this.querySelector('i');
                    const isExpanded = icon.classList.contains('fa-chevron-down');
                    
                    if (isExpanded) {
                        icon.classList.replace('fa-chevron-down', 'fa-chevron-right');
                    } else {
                        icon.classList.replace('fa-chevron-right', 'fa-chevron-down');
                    }
                });
                
                folderTreeContainer.appendChild(mainFolderItem);
            }
        });
    }
}


    
    // Naviguer vers un dossier
    function navigateTo(path) {
        appData.currentPath = path;
        updatePaths();
        updateContent();
    }
    
    // Récupérer le dossier actuel
    function getCurrentFolder() {
        let current = fileSystem;
        for (const folder of appData.currentPath) {
            current = current[folder] ? current[folder] : current.items[folder];
        }
        return current;
    }
    
// Mettre à jour le contenu en fonction du dossier actuel
function updateContent() {
    const currentFolder = getCurrentFolder();
    
    // Mettre à jour le contenu mobile
    const mobileContent = document.getElementById('mobile-home-content');
    if (mobileContent) {
        mobileContent.innerHTML = '';
        
        // Si nous sommes à la page d'accueil (Home)
        if (appData.currentPath.length === 1 && appData.currentPath[0] === 'Home') {
            // Ajouter la section Storage comme accès au cloud storage
            const storageSection = document.createElement('div');
            storageSection.className = 'storage-section';
            storageSection.innerHTML = `
                <div class="storage-icon">
                    <i class="fas fa-server"></i>
                </div>
                <div class="storage-info">
                    <div class="storage-title">Cloud Storage</div>
                    <div class="storage-detail">
                        <span id="mobile-total-apps">24 apps</span> • 
                        <span id="mobile-top-folders">5 folders</span> • 
                        <span id="mobile-total-folders">8 folders</span>
                    </div>
                </div>
                <i class="fas fa-chevron-right"></i>
            `;
            storageSection.addEventListener('click', () => {
                navigateTo(['Home', 'Storage']);
            });
            mobileContent.appendChild(storageSection);
            
            // Ajouter la section d'accès rapide
            const quickAccessTitle = document.createElement('div');
            quickAccessTitle.className = 'section-title';
            quickAccessTitle.innerHTML = `
                <i class="fas fa-bolt"></i>
                Accès rapide
            `;
            mobileContent.appendChild(quickAccessTitle);
            
            // Créer le conteneur de la grille pour les dossiers rapides
            const foldersGridContainer = document.createElement('div');
            foldersGridContainer.className = 'grid-container';
            
            // Ajouter les dossiers importants
            const quickFolders = ['Desktop', 'Work', 'Entertainment'];
            
            quickFolders.forEach(folderName => {
                const storageFolder = fileSystem.Home.items.Storage.items[folderName];
                if (storageFolder) {
                    const folderItem = createQuickFolderItem(folderName, storageFolder);
                    foldersGridContainer.appendChild(folderItem);
                }
            });
            
            mobileContent.appendChild(foldersGridContainer);
            
            // Section des éléments récemment ajoutés
            const recentTitle = document.createElement('div');
            recentTitle.className = 'section-title';
            recentTitle.innerHTML = `
                <i class="fas fa-clock-rotate-left"></i>
                Recently Added
            `;
            mobileContent.appendChild(recentTitle);
            
            // Créer le conteneur de la grille pour les applications récentes
            const recentAppsGrid = document.createElement('div');
            recentAppsGrid.className = 'grid-container';
            
            // Ajouter quelques applications récentes
            const recentApps = [
                { name: 'GitHub', url: 'https://github.com', folder: 'Desktop' },
                { name: 'YouTube', url: 'https://youtube.com', folder: 'Desktop' },
                { name: 'Twitter', url: 'https://twitter.com', folder: 'Desktop' },
                { name: 'Netflix', url: 'https://netflix.com', folder: 'Entertainment' }
            ];
            
            recentApps.forEach(app => {
                const appItem = createHomeAppItem(app.name, app.url, app.folder);
                recentAppsGrid.appendChild(appItem);
            });
            
            mobileContent.appendChild(recentAppsGrid);
            
            // Section des dossiers récemment modifiés
            const recentFoldersTitle = document.createElement('div');
            recentFoldersTitle.className = 'section-title';
            recentFoldersTitle.innerHTML = `
                <i class="fas fa-folder-open"></i>
                Recently Modified Folders
            `;
            mobileContent.appendChild(recentFoldersTitle);
            
            // Créer le conteneur de la grille pour les dossiers récents
            const recentFoldersGrid = document.createElement('div');
            recentFoldersGrid.className = 'grid-container';
            
            // Ajouter quelques dossiers récents
            const recentFolders = ['Work', 'Entertainment'];
            
            recentFolders.forEach(folderName => {
                const storageFolder = fileSystem.Home.items.Storage.items[folderName];
                if (storageFolder) {
                    const folderItem = createQuickFolderItem(folderName, storageFolder);
                    recentFoldersGrid.appendChild(folderItem);
                }
            });
            
            mobileContent.appendChild(recentFoldersGrid);
        }
        // Si nous sommes dans un dossier normal
        else {
            // Ajouter le titre de la section
            const sectionTitle = document.createElement('div');
            sectionTitle.className = 'section-title';
            sectionTitle.innerHTML = `
                <i class="fas fa-folder"></i>
                ${appData.currentPath[appData.currentPath.length - 1]}
            `;
            mobileContent.appendChild(sectionTitle);
            
            // Créer le conteneur de la grille
            const gridContainer = document.createElement('div');
            gridContainer.className = 'grid-container';
            
            // Vérifier si le dossier a des éléments
            const items = currentFolder.items || {};
            const itemKeys = Object.keys(items);
            
            if (itemKeys.length === 0) {
                // Afficher un message si le dossier est vide
                const emptyFolder = document.createElement('div');
                emptyFolder.className = 'empty-folder';
                emptyFolder.innerHTML = `
                    <i class="fas fa-folder-open" style="font-size: 3rem; color: var(--text-dim); margin-bottom: 10px;"></i>
                    <p style="color: var(--text-dim);">Aucun élément dans ce dossier</p>
                `;
                gridContainer.appendChild(emptyFolder);
            } else {
                // Afficher les dossiers d'abord
                itemKeys.forEach(itemName => {
                    const item = items[itemName];
                    
                    if (item.type === 'folder') {
                        const folderItem = createFolderItem(itemName);
                        gridContainer.appendChild(folderItem);
                    }
                });
                
                // Ensuite afficher les applications
                itemKeys.forEach(itemName => {
                    const item = items[itemName];
                    
                    if (item.type === 'app') {
                        const appItem = createAppItem(itemName, item.url);
                        gridContainer.appendChild(appItem);
                    }
                });
            }
            
            mobileContent.appendChild(gridContainer);
        }
    }
    
    // Mettre à jour le contenu desktop
    const desktopContent = document.querySelector('.desktop-content');
    if (desktopContent) {
        desktopContent.innerHTML = '';
        
        // Si nous sommes à la page d'accueil (Home)
        if (appData.currentPath.length === 1 && appData.currentPath[0] === 'Home') {
            // Créer la mise en page pour l'écran d'accueil du bureau
            const desktopHomeLayout = document.createElement('div');
            desktopHomeLayout.className = 'desktop-home-layout';
            
            // Section d'accès rapide
            const quickAccessSection = document.createElement('div');
            quickAccessSection.className = 'desktop-section';
            
            const quickAccessTitle = document.createElement('h2');
            quickAccessTitle.className = 'desktop-section-title';
            quickAccessTitle.innerHTML = `<i class="fas fa-bolt"></i> Accès rapide`;
            quickAccessSection.appendChild(quickAccessTitle);
            
            const quickAccessGrid = document.createElement('div');
            quickAccessGrid.className = 'grid-container desktop-grid';
            
            // Ajouter les dossiers importants
            const quickFolders = ['Desktop', 'Work', 'Entertainment'];
            
            quickFolders.forEach(folderName => {
                const storageFolder = fileSystem.Home.items.Storage.items[folderName];
                if (storageFolder) {
                    const folderItem = createQuickFolderItem(folderName, storageFolder);
                    quickAccessGrid.appendChild(folderItem);
                }
            });
            
            quickAccessSection.appendChild(quickAccessGrid);
            desktopHomeLayout.appendChild(quickAccessSection);
            
            // Section des éléments récemment ajoutés
            const recentSection = document.createElement('div');
            recentSection.className = 'desktop-section';
            
            const recentTitle = document.createElement('h2');
            recentTitle.className = 'desktop-section-title';
            recentTitle.innerHTML = `<i class="fas fa-clock-rotate-left"></i> Recently Added`;
            recentSection.appendChild(recentTitle);
            
            const recentGrid = document.createElement('div');
            recentGrid.className = 'grid-container desktop-grid';
            
            // Ajouter quelques applications récentes
            const recentApps = [
                { name: 'GitHub', url: 'https://github.com', folder: 'Desktop' },
                { name: 'YouTube', url: 'https://youtube.com', folder: 'Desktop' },
                { name: 'Twitter', url: 'https://twitter.com', folder: 'Desktop' },
                { name: 'Netflix', url: 'https://netflix.com', folder: 'Entertainment' },
                { name: 'Spotify', url: 'https://spotify.com', folder: 'Entertainment' },
                { name: 'Gmail', url: 'https://gmail.com', folder: 'Work' }
            ];
            
            recentApps.forEach(app => {
                const appItem = createHomeAppItem(app.name, app.url, app.folder);
                recentGrid.appendChild(appItem);
            });
            
            recentSection.appendChild(recentGrid);
            desktopHomeLayout.appendChild(recentSection);
            
            // Section des dossiers récemment modifiés
            const recentFoldersSection = document.createElement('div');
            recentFoldersSection.className = 'desktop-section';
            
            const recentFoldersTitle = document.createElement('h2');
            recentFoldersTitle.className = 'desktop-section-title';
            recentFoldersTitle.innerHTML = `<i class="fas fa-folder-open"></i> Recently Modified Folders`;
            recentFoldersSection.appendChild(recentFoldersTitle);
            
            const recentFoldersGrid = document.createElement('div');
            recentFoldersGrid.className = 'grid-container desktop-grid';
            
            // Ajouter quelques dossiers récents
            const recentFolders = ['Work', 'Entertainment'];
            
            recentFolders.forEach(folderName => {
                const storageFolder = fileSystem.Home.items.Storage.items[folderName];
                if (storageFolder) {
                    const folderItem = createQuickFolderItem(folderName, storageFolder);
                    recentFoldersGrid.appendChild(folderItem);
                }
            });
            
            recentFoldersSection.appendChild(recentFoldersGrid);
            desktopHomeLayout.appendChild(recentFoldersSection);
            
            desktopContent.appendChild(desktopHomeLayout);
            
            // Mettre à jour le compteur d'éléments dans la barre de statut
            const statusBar = document.querySelector('.status-bar');
            if (statusBar) {
                statusBar.innerHTML = `<span>Home</span>`;
            }
        } 
        // Si nous sommes dans un dossier normal
        else {
            // Créer le conteneur de la grille desktop
            const desktopGridContainer = document.createElement('div');
            desktopGridContainer.className = 'grid-container desktop-grid';
            
            // Vérifier si le dossier a des éléments
            const items = currentFolder.items || {};
            const itemKeys = Object.keys(items);
            
            if (itemKeys.length === 0) {
                // Afficher un message si le dossier est vide
                const emptyFolder = document.createElement('div');
                emptyFolder.className = 'empty-folder';
                emptyFolder.innerHTML = `
                    <i class="fas fa-folder-open" style="font-size: 5rem; color: var(--text-dim); margin-bottom: 20px;"></i>
                    <p style="color: var(--text-dim); font-size: 1.2rem;">Ce dossier est vide</p>
                `;
                desktopGridContainer.appendChild(emptyFolder);
            } else {
                // Afficher les dossiers d'abord
                itemKeys.forEach(itemName => {
                    const item = items[itemName];
                    
                    if (item.type === 'folder') {
                        const folderItem = createFolderItem(itemName);
                        desktopGridContainer.appendChild(folderItem);
                    }
                });
                
                // Ensuite afficher les applications
                itemKeys.forEach(itemName => {
                    const item = items[itemName];
                    
                    if (item.type === 'app') {
                        const appItem = createAppItem(itemName, item.url);
                        desktopGridContainer.appendChild(appItem);
                    }
                });
            }
            
            desktopContent.appendChild(desktopGridContainer);
            
            // Mettre à jour le compteur d'éléments dans la barre de statut
            const statusBar = document.querySelector('.status-bar');
            if (statusBar) {
                statusBar.innerHTML = `<span>${itemKeys.length} items</span>`;
            }
        }
    }

  
      // Mettre à jour la sidebar
    updateSidebar();

}

    
    // Créer un élément dossier
    function createFolderItem(name) {
        const folderItem = document.createElement('div');
        folderItem.className = 'folder-item';
        folderItem.setAttribute('data-name', name);
        
        // Récupérer les aperçus des applications dans le dossier
        let previewIcons = '';
        const folderItems = getCurrentFolder().items[name].items;
        const appKeys = Object.keys(folderItems).filter(key => folderItems[key].type === 'app').slice(0, 3);
        
        appKeys.forEach(appName => {
            const domain = folderItems[appName].url.replace('https://', '').split('/')[0];
            previewIcons += `<img src="https://www.google.com/s2/favicons?domain=${domain}&sz=64" class="preview-icon">`;
        });
        
        folderItem.innerHTML = `
            <div class="folder-icon">
                <i class="fas fa-folder"></i>
                <div class="folder-app-preview">
                    ${previewIcons || '<i class="fas fa-folder-open" style="font-size: 14px; color: #a0a0a0;"></i>'}
                </div>
            </div>
            <div class="item-name">${name}</div>
            <div class="selection-checkbox"></div>
        `;
        
        // Ajouter l'événement de clic
        folderItem.addEventListener('click', function() {
            if (appData.isSelectionMode) {
                const checkbox = this.querySelector('.selection-checkbox');
                checkbox.classList.toggle('selected');
                
                const itemName = this.getAttribute('data-name');
                const index = appData.selectedItems.indexOf(itemName);
                
                if (index === -1) {
                    appData.selectedItems.push(itemName);
                } else {
                    appData.selectedItems.splice(index, 1);
                }
                
                updateSelectionCount();
            } else {
                // Naviguer vers le dossier
                const newPath = [...appData.currentPath, name];
                navigateTo(newPath);
            }
        });
        
        // Ajouter l'événement de clic droit
        folderItem.addEventListener('contextmenu', e => {
            if (contextMenu) showContextMenu(e, folderItem);
        });
        
        return folderItem;
    }
    
    // Créer un élément application
    function createAppItem(name, url) {
        const appItem = document.createElement('div');
        appItem.className = 'app-item';
        appItem.setAttribute('data-name', name);
        
        const domain = url.replace('https://', '').split('/')[0];
        
        appItem.innerHTML = `
            <img src="https://www.google.com/s2/favicons?domain=${domain}&sz=64" class="app-icon">
            <div class="item-name">${name}</div>
            <div class="selection-checkbox"></div>
        `;
        
        // Ajouter l'événement de clic
        appItem.addEventListener('click', function() {
            if (appData.isSelectionMode) {
                const checkbox = this.querySelector('.selection-checkbox');
                checkbox.classList.toggle('selected');
                
                const itemName = this.getAttribute('data-name');
                const index = appData.selectedItems.indexOf(itemName);
                
                if (index === -1) {
                    appData.selectedItems.push(itemName);
                } else {
                    appData.selectedItems.splice(index, 1);
                }
                
                updateSelectionCount();
            } else {
                // Ouvrir l'application
                showToast(`Opening ${name}`, 'info');
            }
        });
        
        // Ajouter l'événement de clic droit
        appItem.addEventListener('contextmenu', e => {
            if (contextMenu) showContextMenu(e, appItem);
        });
        
        return appItem;
    }
    
    // Créer un élément dossier pour l'écran d'accueil
function createQuickFolderItem(name, folder) {
    const folderItem = document.createElement('div');
    folderItem.className = 'folder-item';
    folderItem.setAttribute('data-name', name);
    
    // Récupérer les aperçus des applications dans le dossier
    let previewIcons = '';
    const folderItems = folder.items;
    const appKeys = Object.keys(folderItems).filter(key => folderItems[key].type === 'app').slice(0, 3);
    
    appKeys.forEach(appName => {
        const domain = folderItems[appName].url.replace('https://', '').split('/')[0];
        previewIcons += `<img src="https://www.google.com/s2/favicons?domain=${domain}&sz=64" class="preview-icon">`;
    });
    
    folderItem.innerHTML = `
        <div class="folder-icon">
            <i class="fas fa-folder"></i>
            <div class="folder-app-preview">
                ${previewIcons || '<i class="fas fa-folder-open" style="font-size: 14px; color: #a0a0a0;"></i>'}
            </div>
        </div>
        <div class="item-name">${name}</div>
        <div class="selection-checkbox"></div>
    `;
    
    // Ajouter l'événement de clic
    folderItem.addEventListener('click', function() {
        if (appData.isSelectionMode) {
            const checkbox = this.querySelector('.selection-checkbox');
            checkbox.classList.toggle('selected');
            
            const itemName = this.getAttribute('data-name');
            const index = appData.selectedItems.indexOf(itemName);
            
            if (index === -1) {
                appData.selectedItems.push(itemName);
            } else {
                appData.selectedItems.splice(index, 1);
            }
            
            updateSelectionCount();
        } else {
            // Naviguer vers le dossier dans Storage
            const newPath = ['Home', 'Storage', name];
            navigateTo(newPath);
        }
    });
    
    // Ajouter l'événement de clic droit
    folderItem.addEventListener('contextmenu', e => {
        if (contextMenu) showContextMenu(e, folderItem);
    });
    
    return folderItem;
}

// Créer un élément application pour l'écran d'accueil
function createHomeAppItem(name, url, folderName) {
    const appItem = document.createElement('div');
    appItem.className = 'app-item';
    appItem.setAttribute('data-name', name);
    appItem.setAttribute('data-folder', folderName);
    
    const domain = url.replace('https://', '').split('/')[0];
    
    appItem.innerHTML = `
        <img src="https://www.google.com/s2/favicons?domain=${domain}&sz=64" class="app-icon">
        <div class="item-name">${name}</div>
        <div class="selection-checkbox"></div>
    `;
    
    // Ajouter l'événement de clic
    appItem.addEventListener('click', function() {
        if (appData.isSelectionMode) {
            const checkbox = this.querySelector('.selection-checkbox');
            checkbox.classList.toggle('selected');
            
            const itemName = this.getAttribute('data-name');
            const index = appData.selectedItems.indexOf(itemName);
            
            if (index === -1) {
                appData.selectedItems.push(itemName);
            } else {
                appData.selectedItems.splice(index, 1);
            }
            
            updateSelectionCount();
        } else {
            // Ouvrir l'application
            showToast(`Opening ${name}`, 'info');
        }
    });
    
    // Ajouter l'événement de clic droit
    appItem.addEventListener('contextmenu', e => {
        if (contextMenu) showContextMenu(e, appItem);
    });
    
    return appItem;
}

    
    // Mobile navigation
    mobileNavItems.forEach(item => {
        item.addEventListener('click', function() {
            const contentId = this.getAttribute('data-content');
            
            // Update navigation active state
            mobileNavItems.forEach(navItem => navItem.classList.remove('active'));
            this.classList.add('active');
            
            // Update content visibility
            if (contentId === 'create') {
                if (addLinkModal) showModal('add-link-modal');
                return;
            }
            
            mobileContentSections.forEach(section => {
                section.style.display = 'none';
            });
            
            if (contentId === 'home') {
                const homeContent = document.getElementById('mobile-home-content');
                if (homeContent) {
                    homeContent.style.display = 'block';
                    appData.currentView = 'home';
                    updateContent();
                }
            } else if (contentId === 'explore') {
                const exploreContent = document.getElementById('mobile-explore-content');
                if (exploreContent) {
                    exploreContent.style.display = 'block';
                    appData.currentView = 'explore';
                }
            } else if (contentId === 'me') {
                const meContent = document.getElementById('mobile-me-content');
                if (meContent) {
                    meContent.style.display = 'block';
                    appData.currentView = 'me';
                }
            }
        });
    });
    
    // Overflow menu
    if (overflowMenuBtn) {
        overflowMenuBtn.addEventListener('click', function(e) {
            e.stopPropagation();
            if (overflowDropdown) overflowDropdown.classList.toggle('visible');
        });
    }
    
    // Hide overflow menu when clicking elsewhere
    document.addEventListener('click', function() {
        if (overflowDropdown) overflowDropdown.classList.remove('visible');
    });
    
    // Prevent event propagation when clicking inside dropdown
    if (overflowDropdown) {
        overflowDropdown.addEventListener('click', function(e) {
            e.stopPropagation();
        });
    }
    
    // Context menu
    function showContextMenu(e, item) {
        e.preventDefault();
        
        if (contextMenu) {
            // Position the context menu
            contextMenu.style.left = `${e.pageX}px`;
            contextMenu.style.top = `${e.pageY}px`;
            contextMenu.style.display = 'block';
            
            // Hide menu when clicking elsewhere
            function hideMenu() {
                contextMenu.style.display = 'none';
                document.removeEventListener('click', hideMenu);
            }
            
            setTimeout(() => {
                document.addEventListener('click', hideMenu);
            }, 0);
        }
    }
    
    // Handle context menu actions
    if (contextMenu) {
        contextMenu.addEventListener('click', function(e) {
            const menuItem = e.target.closest('.context-menu-item');
            if (!menuItem) return;
            
            const action = menuItem.getAttribute('data-action');
            
            if (action === 'open') {
                showToast('Opening link...', 'info');
            } else if (action === 'select') {
                toggleSelectionMode(true);
            } else if (action === 'copy') {
                showToast('Item copied', 'success');
            } else if (action === 'move') {
                showToast('Ready to move item', 'info');
            } else if (action === 'delete') {
                if (deleteConfirmModal) showModal('delete-confirm-modal');
            } else if (action === 'rename') {
                if (renameModal) showModal('rename-modal');
            } else if (action === 'info') {
                if (infoModal) showModal('info-modal');
            }
        });
    }
    
    // Selection toolbar actions
    if (mobileSelectAll) {
        mobileSelectAll.addEventListener('click', function() {
            const allItems = document.querySelectorAll('.folder-item, .app-item');
            const allSelected = appData.selectedItems.length === allItems.length;
            
            if (allSelected) {
                // Deselect all
                appData.selectedItems = [];
                document.querySelectorAll('.selection-checkbox').forEach(checkbox => {
                    checkbox.classList.remove('selected');
                });
            } else {
                // Select all
                appData.selectedItems = [];
                allItems.forEach(item => {
                    const itemName = item.getAttribute('data-name');
                    appData.selectedItems.push(itemName);
                    item.querySelector('.selection-checkbox').classList.add('selected');
                });
            }
            
            updateSelectionCount();
        });
    }
    
    if (mobileSelectionCopy) {
        mobileSelectionCopy.addEventListener('click', function() {
            if (appData.selectedItems.length > 0) {
                appData.clipboardItems = [...appData.selectedItems];
                appData.clipboardOperation = 'copy';
                showToast(`${appData.selectedItems.length} items copied`, 'success');
                toggleSelectionMode(false);
            }
        });
    }
    
    if (mobileSelectionMove) {
        mobileSelectionMove.addEventListener('click', function() {
            if (appData.selectedItems.length > 0) {
                appData.clipboardItems = [...appData.selectedItems];
                appData.clipboardOperation = 'move';
                showToast(`${appData.selectedItems.length} items ready to move`, 'info');
                toggleSelectionMode(false);
            }
        });
    }
    
    if (mobileSelectionDelete) {
        mobileSelectionDelete.addEventListener('click', function() {
            if (appData.selectedItems.length > 0 && deleteConfirmModal) {
                showModal('delete-confirm-modal');
            }
        });
    }
    
    if (mobileSelectionCancel) {
        mobileSelectionCancel.addEventListener('click', function() {
            toggleSelectionMode(false);
        });
    }
    
    // Mobile action buttons
    if (mobileSelectBtn) {
        mobileSelectBtn.addEventListener('click', function() {
            toggleSelectionMode(true);
            if (overflowDropdown) overflowDropdown.classList.remove('visible');
        });
    }
    
    // Desktop action buttons
    if (desktopSelectBtn) {
        desktopSelectBtn.addEventListener('click', function() {
            toggleSelectionMode(true);
        });
    }
    
    if (desktopCreateBtn) {
        desktopCreateBtn.addEventListener('click', function() {
            if (createModal) showModal('create-modal');
        });
    }
    
    // Close modals
    document.querySelectorAll('.modal-close, .modal-close-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            const modal = this.closest('.modal-overlay');
            if (modal) modal.classList.remove('active');
        });
    });
    
    // Create folder
    const createFolderBtn = document.getElementById('create-folder-btn');
    if (createFolderBtn) {
        createFolderBtn.addEventListener('click', function() {
            const input = document.querySelector('#create-modal .form-input');
            if (!input) return;
            
            const folderName = input.value.trim();
            
            if (folderName) {
                // Ajouter le dossier à la structure de données
                const currentFolder = getCurrentFolder();
                if (currentFolder.items) {
                    currentFolder.items[folderName] = {
                        type: 'folder',
                        items: {}
                    };
                    
                    showToast(`Folder "${folderName}" created`, 'success');
                    hideModal('create-modal');
                    input.value = '';
                    updateContent();
                }
            } else {
                showToast('Please enter a folder name', 'error');
            }
        });
    }
    
    // Rename item
    const renameBtn = document.getElementById('rename-btn');
    if (renameBtn) {
        renameBtn.addEventListener('click', function() {
            const input = document.getElementById('rename-input');
            if (!input) return;
            
            const newName = input.value.trim();
            
            if (newName) {
                showToast(`Item renamed to "${newName}"`, 'success');
                hideModal('rename-modal');
                input.value = '';
            } else {
                showToast('Please enter a name', 'error');
            }
        });
    }
    
    // Add link
    const addLinkBtn = document.getElementById('add-link-btn');
    if (addLinkBtn) {
        addLinkBtn.addEventListener('click', function() {
            const nameInput = document.getElementById('link-name-input');
            const urlInput = document.getElementById('link-url-input');
            const folderSelect = document.getElementById('link-folder-select');
            
            if (!nameInput || !urlInput || !folderSelect) return;
            
            const name = nameInput.value.trim();
            const url = urlInput.value.trim();
            const folder = folderSelect.value;
            
            if (name && url) {
                // Ajouter le lien à la structure de données
                const currentFolder = getCurrentFolder();
                if (currentFolder.items) {
                    currentFolder.items[name] = {
                        type: 'app',
                        url: url.startsWith('http') ? url : `https://${url}`
                    };
                    
                    showToast(`Link "${name}" added`, 'success');
                    hideModal('add-link-modal');
                    nameInput.value = '';
                    urlInput.value = '';
                    folderSelect.selectedIndex = 0;
                    updateContent();
                }
            } else {
                showToast('Please enter both name and URL', 'error');
            }
        });
    }
    
    // Confirm delete
    const confirmDeleteBtn = document.getElementById('confirm-delete-btn');
    if (confirmDeleteBtn) {
        confirmDeleteBtn.addEventListener('click', function() {
            const count = appData.selectedItems.length || 1;
            
            // Supprimer les éléments sélectionnés
            const currentFolder = getCurrentFolder();
            if (currentFolder.items) {
                appData.selectedItems.forEach(itemName => {
                    delete currentFolder.items[itemName];
                });
                
                showToast(`${count} item${count !== 1 ? 's' : ''} deleted`, 'success');
                hideModal('delete-confirm-modal');
                toggleSelectionMode(false);
                updateContent();
            }
        });
    }
    
    // Alphabet filter
    document.querySelectorAll('.letter-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            document.querySelectorAll('.letter-btn').forEach(b => b.classList.remove('active'));
            this.classList.add('active');
            
            const letter = this.textContent;
            showToast(`Filtering by "${letter}"`, 'info');
        });
    });
    
    // Tree toggling
    document.querySelectorAll('.tree-toggle').forEach(toggle => {
        toggle.addEventListener('click', function(e) {
            e.stopPropagation();
            const treeItem = this.closest('.tree-item');
            const icon = this.querySelector('i');
            const isExpanded = icon.classList.contains('fa-chevron-down');
            
            if (isExpanded) {
                icon.classList.replace('fa-chevron-down', 'fa-chevron-right');
                // Hide children
                const nextSibling = treeItem.nextElementSibling;
                if (nextSibling && nextSibling.classList.contains('folder-tree')) {
                    nextSibling.style.display = 'none';
                }
            } else {
                icon.classList.replace('fa-chevron-right', 'fa-chevron-down');
                // Show children
                const nextSibling = treeItem.nextElementSibling;
                if (nextSibling && nextSibling.classList.contains('folder-tree')) {
                    nextSibling.style.display = 'block';
                }
            }
        });
    });
    
// Gérer les clics sur les éléments de la barre latérale
document.querySelectorAll('.sidebar-item').forEach(item => {
    item.addEventListener('click', function() {
        const span = this.querySelector('span');
        if (!span) return;
        
        const text = span.textContent;
        
        if (text === 'Storage') {
            navigateTo(['Home', 'Storage']);
        } else if (text === 'Recent') {
            showToast('Recent view not implemented', 'info');
        } else if (text === 'Favorites') {
            showToast('Favorites view not implemented', 'info');
        } else if (text === 'This PC') {
            showToast('This PC view not implemented', 'info');
        }
        
        // Mettre à jour l'état actif
        document.querySelectorAll('.sidebar-item').forEach(i => i.classList.remove('active'));
        this.classList.add('active');
    });
});

    
    // Gérer les clics sur les dossiers rapides de la barre latérale
    document.querySelectorAll('.sidebar-folder-item, .sidebar-app-item').forEach(item => {
        item.addEventListener('click', function() {
            const name = this.getAttribute('data-name');
            
            if (this.classList.contains('sidebar-folder-item')) {
                // Trouver le chemin du dossier
                const newPath = ['Storage', name];
                navigateTo(newPath);
            } else {
                // Ouvrir l'application
                showToast(`Opening ${name}`, 'info');
            }
        });
    });
    
    // Gérer les clics sur les éléments de l'arborescence
    document.querySelectorAll('.tree-item').forEach(item => {
        item.addEventListener('click', function(e) {
            // Ne pas exécuter si le clic était sur le toggle
            if (e.target.closest('.tree-toggle')) return;
            
            const span = this.querySelector('span');
            if (!span) return;
            
            const folderName = span.textContent;
            
            if (folderName === 'Storage') {
                navigateTo(['Storage']);
            } else if (folderName === 'Work') {
                navigateTo(['Storage', 'Work']);
            } else if (folderName === 'Movies') {
                navigateTo(['Storage', 'Movies']);
            } else if (folderName === 'Music') {
                navigateTo(['Storage', 'Music']);
            }
        });
    });
    
    // Ajouter des fonctionnalités aux boutons de navigation
    document.querySelectorAll('.nav-btn').forEach(btn => {
        const icon = btn.querySelector('i');
        if (!icon) return;
        
        if (icon.classList.contains('fa-arrow-left')) {
            btn.addEventListener('click', () => {
                // Revenir en arrière si possible
                if (appData.currentPath.length > 1) {
                    navigateTo(appData.currentPath.slice(0, -1));
                }
            });
        } else if (icon.classList.contains('fa-arrow-right')) {
            // Avancer dans l'historique (pas implémenté)
            btn.addEventListener('click', () => {
                showToast('Navigation forward not implemented', 'info');
            });
        } else if (icon.classList.contains('fa-arrow-up')) {
            btn.addEventListener('click', () => {
                // Monter d'un niveau si possible
                if (appData.currentPath.length > 1) {
                    navigateTo(appData.currentPath.slice(0, -1));
                }
            });
        } else if (icon.classList.contains('fa-sync-alt')) {
            btn.addEventListener('click', () => {
                // Rafraîchir le contenu
                updateContent();
                showToast('Content refreshed', 'success');
            });
        }
    });
    
// Init
document.querySelector('.sidebar-item.active')?.classList.remove('active');
document.querySelector('.sidebar-item:first-child')?.classList.add('active');
updatePaths();
updateContent();
updateSidebar(); // Ajoutez cette ligne


});

    </script>
</body>
</html>
